<html>
    <head>        
    </head>
    <body>
        <canvas id="paper" width="800" height="800">            
        </canvas>
    </body>
    <script>
        let canvas = document.getElementById("paper")
        let ctx = canvas.getContext('2d')
        class Sprite {
            constructor(color, x, y, direction, speed){
                this.color = color
                this.y = y
                this.x = x
                this.direction = direction
                this.speed = speed
            }
            moveAndPaint(diff){                
                ctx.fillStyle = this.color
                ctx.fillRect(this.x, this.y, 20, 20)            
                if(this.x >= 800)
                    this.direction = -1
                else if(this.x <= 0)
                    this.direction = 1               
                let s = (this.speed * diff)/1000 //s = vt
                this.x = this.x + (this.direction * s)
            }    
        }
        
        let sprites = [
            new Sprite('red', 0, 10, 1, 50),
            new Sprite('green', 40, 30, -1, 30),
            new Sprite('blue', 200, 50, 1, 70),
            new Sprite('black', 80, 70, -1, 100),
            new Sprite('pink', 300, 90, -1, 200),
            new Sprite('gold', 0, 110, 1, 400),
            new Sprite('brown', 40, 130, -1, 230),
            new Sprite('silver', 200, 150, 1, 170),
            new Sprite('yellow', 80, 170, -1, 200),
            new Sprite('grey', 300, 190, -1, 10),
            new Sprite('lime', 0, 210, 1, 350),
            new Sprite('orange', 40, 230, -1, 230),
            new Sprite('purple', 200, 250, 1, 370),
            new Sprite('#ee7722', 80, 270, -1, 400),
            new Sprite('#00ffff', 300, 290, -1, 100),
            new Sprite('red', 0, 310, 1, 250),
            new Sprite('green', 40, 330, -1, 70),
            new Sprite('blue', 200, 350, 1, 270),
            new Sprite('black', 80, 370, -1, 10),
            new Sprite('pink', 300, 390, -1, 230),
            new Sprite('gold', 0, 410, 1, 40),
            new Sprite('brown', 40, 430, -1, 530),
            new Sprite('silver', 200, 450, 1, 370),
            new Sprite('yellow', 80, 470, -1, 280),
            new Sprite('grey', 300, 490, -1, 120),
            new Sprite('lime', 0, 510, 1, 450),
            new Sprite('orange', 40, 530, -1, 130),
            new Sprite('purple', 200, 550, 1, 70),
            new Sprite('#ee7722', 80, 570, -1, 440),
            new Sprite('#00ffff', 300, 590, -1, 190),
        ]
        let lastFrameStamp = new Date().getTime()     
        function draw(){
            ctx.clearRect(0, 0, canvas.width, canvas.height)
            let now = new Date().getTime()
            let diff = now - lastFrameStamp
            for(let sprite of sprites)
                sprite.moveAndPaint(diff)
            
            window.requestAnimationFrame(draw)
            lastFrameStamp = now
        }
        window.requestAnimationFrame(draw)
        
    </script>
</html> 